(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,r){e.exports=r(35)},30:function(e,t,r){},31:function(e,t,r){},32:function(e,t,r){},33:function(e,t,r){},34:function(e,t,r){},35:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(19),i=r.n(o),s=r(7),c=r(11),l="PUSH_HISTORY",u="HISTORY_BACK",h="HISTORY_FORWARD",f="CHECK_WIN",p=r(10),y=r(16),d=function(e,t){return Object.assign({},Object(p.a)({},e),Object(p.a)({},t))},m=function(e,t){if(Array.isArray(e)&&Array.isArray(t)){for(var r=0;r<e.length;r++)for(var a=0;a<e[r].length;a++)if(e[r][a]!==t[r][a])return!1;return!0}return!1},v=function e(t){var r;if(Array.isArray(t)){r=t.slice(0);for(var a=0;a<r.length;a++)r[a]=e(r[a]);return r}return t},w=function(e){for(var t=0;t<e.length;t++)for(var r=0;r<e[t].length;r++)if(0===e[t][r])return[t,r]},b={history:function(){var e=[[1,2,3,4],[5,6,7,8],[9,10,11,12],[13,14,15,0]].map(function(e){return Object(y.knuthShuffle)(e.slice(0))});return[e=Object(y.knuthShuffle)(e.slice(0))]}(),historyPos:1,head:1,win:!1};var g=Object(c.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:var r=d({},e),a=v(r.history);return a=a.concat([t.payload]),e.historyPos===e.history.length?d(r,{history:a,historyPos:e.historyPos+1,head:e.head+1,win:e.win}):m(e.history[e.historyPos],t.payload)?d(e,{historyPos:e.historyPos+1}):(a=(a=a.slice(0,r.historyPos)).concat([t.payload]),d(r,{history:a,historyPos:e.historyPos+1,head:e.head+1,win:e.win}));default:return e}}(e,t);case u:case h:return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return e.historyPos-t.payload>=0?d(e,{historyPos:e.historyPos-=t.payload}):d(e,{historyPos:0});case h:return e.historyPos+t.payload<=e.head?d(e,{historyPos:e.historyPos+=t.payload}):d(e,{historyPos:e.head});default:return e}}(e,t);case f:return function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,r=d({},e).history[e.head-1].flat(),a=!0,n=1;n<r.length-1;n++)if(!(r[n]>r[n-1])){a=!1;break}switch(t.type){case f:return d(e,{win:a});default:return e}}(e,t);default:return e}},function(){var e=function(){console.log("Trying to load last game state");var e=localStorage.getItem("game15save");return!(!e||e.win)&&JSON.parse(e)}();return e||Object(p.a)({},b)}(),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),O=(r(30),r(1)),E=r(2),j=r(4),P=r(3),N=r(5),k=r(12),x=(r(31),r(32),function(e){function t(){var e,r;Object(O.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(j.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(n)))).swap=function(){r.props.moveable&&r.props.swap(r.props.currentTile)},r}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.children,t="tile t".concat(e," ").concat(this.props.moveable?"moveable":"");return 0===e&&(e=""),n.a.createElement("div",{className:t,onClick:this.swap},e)}}]),t}(a.Component)),S=function(e){function t(){var e,r;Object(O.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(j.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(n)))).newGame=function(){window.GAME15STARTNEWGAME=!0,localStorage.removeItem("game15save"),window.location.reload()},r.swap=function(e){var t=v(r.props.history[r.props.historyPos-1]),a=w(t),n=Object(k.a)(a,2),o=n[0],i=n[1],s=Object(k.a)(e,2),c=s[0],l=s[1],u=[].concat(t);u[o][i]=t[c][l],u[c][l]=0,r.props.pushHistory(u),r.props.checkWin()},r}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=n.a.createElement("div",{id:"winscreen",className:"flex flex-center"},"You win! :)"),r=w(this.props.history[this.props.historyPos-1]),a=Object(k.a)(r,2),o=a[0],i=a[1],s=this.props.history[this.props.historyPos-1].map(function(t,r){return t.map(function(t,a){var s=Math.abs(o-r)+Math.abs(i-a)===1;return n.a.createElement(x,{key:"".concat(r,"-").concat(a),moveable:s,swap:e.swap,currentTile:[r,a]},t)})}),c=n.a.createElement("button",{className:"game-control ".concat(this.props.historyPos<=1?"disabled":""),onClick:this.props.goBack},n.a.createElement("i",{className:"fas fa-backward"})),l=n.a.createElement("button",{className:"game-control ".concat(this.props.historyPos>=this.props.history.length?"disabled":""),onClick:this.props.goForward},n.a.createElement("i",{className:"fas fa-forward"}));return n.a.createElement("div",{id:"square"},n.a.createElement("div",{className:"controls flex flex-row"},n.a.createElement("button",{className:"game-control",onClick:this.newGame},n.a.createElement("i",{className:"fas fa-dice"})," Start new game")),n.a.createElement("div",{id:"field"},s,this.props.win?t:null),n.a.createElement("div",{className:"controls flex flex-row"},c,l))}}]),t}(a.Component),A=Object(s.b)(function(e){return{history:e.history,historyPos:e.historyPos,head:e.head,win:e.win}},function(e){return{pushHistory:function(t){return e({type:l,payload:t})},goBack:function(){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:u,payload:e}}())},goForward:function(){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:h,payload:e}}())},checkWin:function(){return e({type:f,payload:null})}}})(S),_=(r(33),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.history.map(function(t,r){var a=e.props.historyPos,o="history-item flex flex-col ".concat(r===a-1?"current":""),i=t.map(function(e,t){var r=e.map(function(e,t){return n.a.createElement("span",{className:"history-item-tile flex flex-row flex-fill flex-center",key:t},0===e?" ":e)});return n.a.createElement("span",{className:"history-item-row flex flex-row",key:t},r)});return n.a.createElement("div",{className:o,key:r},i)});return n.a.createElement("div",{id:"history-bar"},n.a.createElement("div",{id:"history-content",className:"flex flex-col"},t))}}]),t}(a.Component)),T=Object(s.b)(function(e){return{history:e.history,historyPos:e.historyPos,head:e.head}})(_),C=(r(34),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{id:"game"},n.a.createElement(T,null),n.a.createElement(A,null))}}]),t}(a.Component));window.onbeforeunload=function(){var e;e=g.getState(),window.GAME15STARTNEWGAME||localStorage.setItem("game15save",JSON.stringify(e))},i.a.render(n.a.createElement(s.a,{store:g},n.a.createElement("header",{id:"game-title",className:"flex flex-row flex-center"},"Game 15"),n.a.createElement(C,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.834af2d0.chunk.js.map