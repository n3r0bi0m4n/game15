{"version":3,"sources":["store/actions/actions.js","helpers.js","store/initialState.js","store/store.js","store/reducers/pushHistory.js","store/reducers/historyMove.js","store/reducers/checkWin.js","store/browserStorage.js","components/tile/Tile.js","components/square/Square.js","store/actions/actionBuilders.js","components/history/History.js","App.js","index.js"],"names":["PUSH_HISTORY","HISTORY_BACK","HISTORY_FORWARD","CHECK_WIN","update","target","src","Object","assign","objectSpread","compareStates","stateA","stateB","Array","isArray","sl","length","rl","cloneArray","arr","copy","slice","i","findNullTile","state","r","c","initialState","history","result","map","nested","knuthShuffle","randomizeNewGame","historyPos","head","win","store","createStore","arguments","undefined","action","type","actions","stateCopy","newHistory","concat","payload","pushHistoryReducer","historyMoveReducer","currentGameState","flat","a","checkWin","console","log","saveString","localStorage","getItem","JSON","parse","browserStorage","initialStateGenerator","window","__REDUX_DEVTOOLS_EXTENSION__","Tile","_Component","_getPrototypeOf2","_this","classCallCheck","this","_len","args","_key","possibleConstructorReturn","getPrototypeOf","call","apply","swap","props","moveable","currentTile","inherits","createClass","key","value","tileItem","children","tileClass","react_default","createElement","className","onClick","Component","Square","newGame","GAME15STARTNEWGAME","removeItem","location","reload","tilePos","currentState","_findNullTile","_findNullTile2","slicedToArray","nullTileRow","nullTileCol","_tilePos","currentRow","currentCol","tempState","pushHistory","_this2","winscreen","id","_findNullTile3","_findNullTile4","tiles","tileRow","tileRowIndex","tile","tileIndex","isTileMoveable","Math","abs","Tile_Tile","btnBackward","goBack","btnForward","goForward","connect","dispatch","steps","History","historylist","historyItem","historyIndex","current","data","hitoryRowItem","historyRowIndex","hitsoryTileItem","historyTileIndex","App","components_history_History","components_square_Square","onbeforeunload","getState","setItem","stringify","ReactDOM","render","es","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.2bfbe4ef.chunk.js","sourcesContent":["const PUSH_HISTORY = 'PUSH_HISTORY'; // add game game position to history\nconst HISTORY_BACK = 'HISTORY_BACK'; // revert to previous position (if available)\nconst HISTORY_FORWARD = 'HISTORY_FORWARD'; // undo revert to previous position (if available)\nconst CHECK_WIN = 'CHECK_WIN';\nexport { PUSH_HISTORY, HISTORY_BACK, HISTORY_FORWARD, CHECK_WIN };\n","import { knuthShuffle } from 'knuth-shuffle';\n\nexport const update = (target, src) => Object.assign({}, { ...target }, { ...src });\n\nexport const compareStates = (stateA, stateB) => {\n  if (Array.isArray(stateA) && Array.isArray(stateB)) {\n    for (let sl = 0; sl < stateA.length; sl++) {\n      for (let rl = 0; rl < stateA[sl].length; rl++) {\n        if (stateA[sl][rl] === stateB[sl][rl])\n          continue;\n        else\n          return false;\n      }\n    }\n    return true;\n  }\n  return false;\n};\n\n\nexport const randomizeNewGame = () => {\n  // for testing purposes\n  // return [\n  //   [[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 0], [13, 14, 15, 12]]\n  // ];\n  // TODO: sometimes it can be randomized to unsolvable state: https://en.wikipedia.org/wiki/15_puzzle#Solvability\n  // TODO: implement solvability checker and re-randomize if unsolvable\n  const initialValue = [[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12], [13, 14, 15, 0]];\n  let result = initialValue.map(nested => knuthShuffle(nested.slice(0)));\n  result = knuthShuffle(result.slice(0));\n\n  return [result];\n};\n\n\nexport const cloneArray = (arr) => {\n  let copy;\n\n  if (Array.isArray(arr)) {\n    copy = arr.slice(0);\n    for (let i = 0; i < copy.length; i++)\n      copy[i] = cloneArray(copy[i]);\n\n    return copy;\n  } else return arr;\n};\n\nexport const findNullTile = (state) => {\n  for (let r = 0; r < state.length; r++)\n    for (let c = 0; c < state[r].length; c++)\n      if (state[r][c] === 0) return [r, c];\n};\n","import * as browserStorage from './browserStorage';\nimport { randomizeNewGame } from '../helpers';\n\nexport const initialState = {\n  history: randomizeNewGame(), // history of game states\n  historyPos: 1, // current history position (default is history.length - 1)\n  head: 1, // last _valid_ position\n  win: false\n};\n\n\nexport const initialStateGenerator = () => {\n  const result = browserStorage.loadGame();\n  if (result) return result;\n  return { ...initialState };\n};\n","import { createStore } from 'redux';\n\nimport * as actions from './actions/actions';\n\nimport pushHistoryReducer from './reducers/pushHistory';\nimport historyMoveReducer from './reducers/historyMove';\nimport checkWin from './reducers/checkWin';\n\nimport { initialStateGenerator, initialState } from './initialState';\n\nconst rootReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actions.PUSH_HISTORY:\n      return pushHistoryReducer(state, action);\n    case actions.HISTORY_BACK: case actions.HISTORY_FORWARD:\n      return historyMoveReducer(state, action);\n    case actions.CHECK_WIN:\n      return checkWin(state, action);\n    default:\n      return state;\n  }\n};\n\nconst store = createStore(rootReducer, initialStateGenerator(), window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\nexport default store;\n","import { PUSH_HISTORY } from '../actions/actions';\nimport { initialState } from '../initialState';\nimport { update, compareStates, cloneArray } from '../../helpers';\n\nexport default function pushHistoryReducer(state = initialState, action) {\n  switch (action.type) {\n    case PUSH_HISTORY: {\n      const stateCopy = update({}, state);\n      let newHistory = cloneArray(stateCopy.history);\n      newHistory = newHistory.concat([action.payload]);\n\n      if (state.historyPos === state.history.length) {\n        // if _standard_ move\n        return update(stateCopy, {\n          history: newHistory,\n          historyPos: state.historyPos + 1,\n          head: state.head + 1,\n          win: state.win\n        });\n      }\n      else {\n        if (compareStates(state.history[state.historyPos], action.payload)) {\n          // if rollback and make same move\n          return update(state, { historyPos: state.historyPos + 1 });\n        } else {\n          // if rollback and change move\n          newHistory = newHistory.slice(0, stateCopy.historyPos);\n          newHistory = newHistory.concat([action.payload]);\n\n          return update(stateCopy, {\n            history: newHistory,\n            historyPos: state.historyPos + 1,\n            head: state.head + 1,\n            win: state.win\n          });\n        }\n      }\n    }\n\n    default:\n      return state;\n  }\n}\n","import { HISTORY_BACK, HISTORY_FORWARD } from '../actions/actions';\nimport { initialState } from '../initialState';\nimport { update } from '../../helpers';\n\nexport default function historyMoveReducer(state = initialState, action) {\n  switch (action.type) {\n\n    case HISTORY_BACK: {\n      if ((state.historyPos - action.payload) >= 0)\n        return update(state, { historyPos: state.historyPos -= action.payload });\n      else\n        return update(state, { historyPos: 0 });\n    }\n\n    case HISTORY_FORWARD: {\n      if ((state.historyPos + action.payload) <= state.head)\n        return update(state, { historyPos: state.historyPos += action.payload });\n      else\n        return update(state, { historyPos: state.head });\n    }\n\n    default:\n      return state;\n  }\n}\n","import { CHECK_WIN } from '../actions/actions';\nimport { initialState } from '../initialState';\nimport { update } from '../../helpers';\n\nexport default function pushHistoryReducer(state = initialState, action) {\n  const stateCopy = update({}, state);\n  const currentGameState = stateCopy.history[state.head - 1].flat();\n\n  let result = true;\n\n  for (let a = 1; a < currentGameState.length - 1; a++)\n\n    if (currentGameState[a] > currentGameState[a - 1])\n      continue;\n    else {\n      result = false;\n      break;\n    }\n\n  switch (action.type) {\n    case CHECK_WIN: {\n      return update(state, {\n        win: result\n      });\n    }\n    default:\n      return state;\n  }\n}\n","\nexport const saveGame = (state) => {\n  if (!window.GAME15STARTNEWGAME)\n    localStorage.setItem('game15save', JSON.stringify(state));\n};\n\nexport const loadGame = () => {\n  console.log('Trying to load last game state');\n  const saveString = localStorage.getItem('game15save');\n  if (saveString && !saveString.win)\n    return JSON.parse(saveString);\n  return false;\n};\n","import React, { Component } from 'react';\nimport './Tile.css';\n\nexport class Tile extends Component {\n\n  swap = () => {\n    if (this.props.moveable)\n      this.props.swap(this.props.currentTile);\n  }\n\n  render() {\n    let tileItem = this.props.children;\n    const tileClass = `tile t${tileItem} ${this.props.moveable ? 'moveable' : ''}`;\n    if (tileItem === 0) tileItem = '';\n\n    return (\n      <div className={tileClass} onClick={this.swap}>{tileItem}</div>\n    );\n  }\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport './Square.css';\n\nimport * as actions from '../../store/actions/actionBuilders';\n\nimport { Tile } from '../tile/Tile';\nimport { findNullTile, cloneArray } from '../../helpers';\n\nclass Square extends Component {\n\n  newGame = () => {\n    window.GAME15STARTNEWGAME = true;\n    localStorage.removeItem('game15save');\n    window.location.reload();\n  };\n\n  swap = (tilePos) => {\n    const currentState = cloneArray(this.props.history[this.props.historyPos - 1]);\n    const [nullTileRow, nullTileCol] = findNullTile(currentState);\n    const [currentRow, currentCol] = tilePos;\n    const tempState = [].concat(currentState);\n    tempState[nullTileRow][nullTileCol] = currentState[currentRow][currentCol];\n    tempState[currentRow][currentCol] = 0;\n    this.props.pushHistory(tempState);\n    this.props.checkWin();\n  };\n\n  render() {\n    const winscreen = <div id='winscreen' className='flex flex-center'>You win! :)</div>;\n\n    const [nullTileRow, nullTileCol] = findNullTile(this.props.history[this.props.historyPos - 1]);\n\n    const tiles = this.props.history[this.props.historyPos - 1].map((tileRow, tileRowIndex) =>\n      tileRow.map((tile, tileIndex) => {\n        const isTileMoveable = ((Math.abs(nullTileRow - tileRowIndex) + Math.abs(nullTileCol - tileIndex)) === 1);\n\n        return <Tile key={`${tileRowIndex}-${tileIndex}`}\n          moveable={isTileMoveable}\n          swap={this.swap}\n          currentTile={[tileRowIndex, tileIndex]}\n        >{tile}</Tile>;\n      }));\n\n\n    const btnBackward = <button\n      className={`game-control ${this.props.historyPos <= 1 ? 'disabled' : ''}`}\n      onClick={this.props.goBack}><i className='fas fa-backward'></i></button>;\n\n    const btnForward = <button\n      className={`game-control ${this.props.historyPos >= this.props.history.length ? 'disabled' : ''}`}\n      onClick={this.props.goForward}><i className='fas fa-forward'></i></button>\n\n    return (\n      <div id='square'>\n        <div className='controls flex flex-row'>\n          <button className='game-control' onClick={this.newGame}><i className='fas fa-dice'></i> Start new game</button>\n        </div>\n        <div id='field'>\n          {tiles}\n          {this.props.win ? winscreen : null}\n        </div>\n        <div className='controls flex flex-row'>\n          {btnBackward}\n          {btnForward}\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default connect(\n  state => ({\n    history: state.history,\n    historyPos: state.historyPos,\n    head: state.head,\n    win: state.win\n  }),\n  dispatch => ({\n    pushHistory: (state) => dispatch(actions.pushHistory(state)),\n    goBack: () => dispatch(actions.historyBack()),\n    goForward: () => dispatch(actions.historyForward()),\n    checkWin: () => dispatch(actions.checkWin())\n  })\n)(Square);\n","import * as action from './actions';\n\nconst pushHistory = (gameState) => ({ type: action.PUSH_HISTORY, payload: gameState });\nconst historyBack = (steps = 1) => ({ type: action.HISTORY_BACK, payload: steps });\nconst historyForward = (steps = 1) => ({ type: action.HISTORY_FORWARD, payload: steps });\nconst checkWin = () => ({ type: action.CHECK_WIN, payload: null });\n\nexport { pushHistory, historyBack, historyForward, checkWin };\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport './History.css';\n\nclass History extends Component {\n  render() {\n    const historylist = this.props.history.map((historyItem, historyIndex) => {\n      const current = this.props.historyPos;\n      const className = `history-item flex flex-col ${historyIndex === current - 1 ? 'current' : ''}`;\n\n      const data = historyItem.map((hitoryRowItem, historyRowIndex) => {\n\n        const tiles = hitoryRowItem.map((hitsoryTileItem, historyTileIndex) =>\n          <span className='history-item-tile flex flex-row flex-fill flex-center' key={historyTileIndex}>\n            {hitsoryTileItem === 0 ? ' ' : hitsoryTileItem}</span>);\n\n        return <span className='history-item-row flex flex-row' key={historyRowIndex}>{tiles}</span>\n      });\n\n      return <div className={className} key={historyIndex}>{data}</div>;\n    });\n\n    return (\n      <div id='history-bar'>\n        <div id='history-content' className='flex flex-col'>\n        {historylist}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  state => ({\n    history: state.history,\n    historyPos: state.historyPos,\n    head: state.head\n  })\n)(History);\n","import React, { Component } from 'react';\nimport Square from './components/square/Square';\nimport History from './components/history/History';\nimport './App.css';\n\nclass App extends Component {\n  render() {\n    return (\n      <div id='game'>\n        <History />\n        <Square />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Provider } from 'react-redux';\nimport store from './store/store';\n\nimport './index.css';\nimport App from './App';\n\nimport { saveGame } from './store/browserStorage';\n\n// import * as serviceWorker from './serviceWorker';\n\nwindow.onbeforeunload = function () {\n  saveGame(store.getState())\n};\n\nReactDOM.render(\n  <Provider store={store}>\n    <header id='game-title' className='flex flex-row flex-center'>Game 15</header>\n    <App />\n  </Provider>,\n  document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}